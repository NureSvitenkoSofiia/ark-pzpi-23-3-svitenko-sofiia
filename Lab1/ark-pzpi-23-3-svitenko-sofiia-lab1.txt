Міністерство освіти та науки України
Харківський національний університет радіоелектроніки


Кафедра програмної інженерії



Звіт до лабораторної роботи №1
з дисципліни «Аналіз та рефакторинґ коду»
на тему: «Програмна система для 3D-друку»







Виконав 	
ст. гр. ПЗПІ-23-3                                                               			Світенко С.М.
Перевірив
ст. викладач катедри ПІ 					Сокорчук І.П.





                                                                                     
Харків 2025


1. ІСТОРІЯ ЗМІН
№ДатаВерсія звітуОпис змін та виправлень19.11.20251.0Створено документ Vision & Scope229.11.20251.1Сформовано звіт323.12.20251.2Створено відеоролик на YouTube


2. ЗАВДАННЯ
Необхідно виконати наступні завдання:
1. Вивчити структуру та функціональне призначення документа Vision & Scope.
2. Здійснити аналіз проблематики та огляд існуючих аналогічних рішень на ринку.
3. Розробити формулювання бачення системи (Vision Statement) та надати опис її бізнес-логіки.
4. Представити ключові функціональні можливості для серверної частини, IoT-компонентів, веб-інтерфейсу та мобільного застосунку.
5. Окреслити межі функціоналу першого релізу та визначити напрямки розвитку наступних версій системи.
6. Описати програмні технології та інструменти, що застосовуються в процесі розробки.
7. Створити та оформити документ Vision & Scope для системи «PrintMaster» відповідно до вимог (ДОДАТОК Б), а також включити його стислий виклад до звіту.


3. ОПИС ВИКОНАНОЇ РОБОТИ
    У межах лабораторної роботи проведено вивчення принципів створення документації Vision & Scope та проаналізовано реальні приклади застосування цієї методології у сфері інженерії програмного забезпечення. Основним результатом став розроблений документ для власного проєкту — системи автоматизованого управління 3D-принтерами "PrintMaster", призначеної для спрощення доступу до технологій адитивного виробництва та ефективної організації роботи обладнання в університетських лабораторіях і невеликих виробничих цехах.
    На першому етапі роботи проаналізовано типові виклики, з якими стикаються організації при експлуатації парку 3D-принтерів: необхідність ручної координації між користувачами, технічна складність підготовки моделей до друку, брак системного контролю за витратами матеріалів. Додатково вивчено існуючі програмні продукти на ринку, зокрема 3DPrinterOS і OctoPrint, що допомогло сформулювати ключові переваги та відмінності запропонованого рішення від конкурентів.
    Центральним етапом стала розробка стратегічного бачення системи PrintMaster, де чітко окреслено головну ціль проєкту, портрет цільової аудиторії та пріоритетні функціональні можливості. Основний акцент зроблено на повній автоматизації перетворення тривимірних моделей у команди для принтера, розумному розподілі завдань між доступними пристроями та здатності системи працювати незалежно навіть при тимчасовій втраті інтернет-зв'язку.
    У документі детально розкрито архітектуру системи та взаємодію між різними групами користувачів – від звичайних студентів до адміністраторів лабораторій. Описано повний шлях завдання від створення до виконання, механізми відстеження залишків філаменту та можливості для аналізу використання ресурсів. Визначено три ключові технологічні блоки: центральний сервер для координації процесів, розумні контролери що керують кожним принтером окремо, та клієнтські застосунки для веб-браузерів і мобільних пристроїв, які спільно створюють комплексне рішення для керування 3D-друком.
    Щодо технічної реалізації, серверна частина побудована на фреймворку ASP.NET Core версії 10.0 з використанням бази даних PostgreSQL 18 та обміном даними через REST API. Розумні контролери створені на базі недорогих мікропроцесорів ESP32 з прошивкою на MicroPython, які забезпечують автоматичну обробку STL-моделей через програму PrusaSlicer, керування послідовністю завдань, відображення прогресу на LCD-дисплеї та підтримку двох мов інтерфейсу. Клієнтські додатки (веб-версія на React і мобільний застосунок на Flutter) заплановані для майбутніх версій і надаватимуть зручний доступ користувачам та інструменти для адміністрування.
    Фінальна частина роботи містить оформлення повного звіту згідно з вимогами кафедри, короткий виклад ключових аспектів документації Vision & Scope та посилання на ДОДАТОК Б з повною версією проєктної специфікації системи «PrintMaster».



ВИСНОВКИ
     Документація Vision & Scope відіграє ключову роль на початкових етапах створення програмного продукту, оскільки саме вона визначає стратегічні цілі проєкту, межі його функціональності, очікувані результати та цінність для кінцевих користувачів.
     В ході виконання лабораторної роботи розроблено комплексну проєктну документацію для системи управління 3D-друком «PrintMaster». Створена документація дозволила структуровано викласти проблеми, що існують у сфері організації адитивного виробництва, та обґрунтувати необхідність впровадження автоматизованого рішення, визначити ключові компоненти системної архітектури, зокрема серверну частину, IoT-контролери на ESP32, веб-інтерфейс та мобільний застосунок, описати бізнес-логіку роботи системи, основний функціонал початкової версії та її обмеження, а також обрати оптимальний набір технологій для практичної реалізації концепції. Виконана робота дозволила здобути практичні навички у формулюванні проєктних специфікацій, структуруванні функціональних та технічних вимог, а також у використанні методології Vision & Scope як інструменту для стратегічного планування розробки програмних систем.
     

ПЕРЕЛІК ДЖЕРЕЛ ПОСИЛАННЯ
    1. Wiegers K. E., Beatty J. Software Requirements, 3rd Edition. Microsoft Press, 2013. 672 с. 
    2. ASP.NET Core Documentation. URL: https://learn.microsoft.com/en-us/aspnet/core/ (дата звернення: 20.12.2025); 
    3. Entity Framework Core Documentation. URL: https://learn.microsoft.com/en-us/ef/core/ (дата звернення: 20.12.2025); 
    4. PostgreSQL Documentation. URL: https://www.postgresql.org/docs/ (дата звернення: 20.12.2025); 
    5. MicroPython Documentation. URL: https://docs.micropython.org/ (дата звернення: 20.12.2025); 
    6. ESP32 Technical Reference Manual. URL: https://www.espressif.com/en/products/socs/esp32 (дата звернення: 20.12.2025); 
    7. PrusaSlicer Documentation. URL: https://help.prusa3d.com/category/prusaslicer_204 (дата звернення: 20.12.2025); 
    8. G-code Reference. URL: https://marlinfw.org/meta/gcode/ (дата звернення: 20.12.2025); 
    9. React Documentation. URL: https://react.dev/ (дата звернення: 20.12.2025); 
    10. Flutter Documentation. URL: https://flutter.dev/docs (дата звернення: 20.12.2025); 
    11. JWT Authentication Best Practices. URL: https://datatracker.ietf.org/doc/html/rfc7519 (дата звернення: 20.12.2025); 
    12. RESTful API Design Guidelines. URL: https://learn.microsoft.com/en-us/azure/architecture/best-practices/api-design (дата звернення: 20.12.2025).

ДОДАТОК А
Відеозапис
Посилання: https://youtu.be/weRrFkMouhk
Хронологічний опис відеозапису:
00:00 - 00:30 Вступ. Представлення, тема роботи. 
00:30 - 01:15 Частина 1: Завдання та підхід до виконання лабораторної роботи.
01:15 - 02:15 Частина 2: Проблематика та запропоноване рішення PrintMaster.
02:15 - 03:45 Частина 3: Архітектура системи (серверна частина, IoT-контролери, клієнтські додатки).
03:45 - 04:45 Частина 4: Функціональні можливості для різних ролей користувачів 04:45 - 05:30 Частина 5: Технічна реалізація та стек технологій.
05:30 - 06:15 Частина 6: Межі першого релізу та плани розвитку.
06:15 - 06:30 Висновки.
Загальна тривалість: 6:30.

ДОДАТОК Б
Vision and Scope документ для Програмної системи управління 3D-друком «PrintMaster»
1. Бізнес-вимоги
1.1 Передумови
   Технологія тривимірного друку стрімко інтегрується у виробничі процеси підприємств, освітні програми технічних закладів та діяльність hobbyist-спільнот. Зростання доступності 3D-принтерів створило попит на ефективні інструменти управління обладнанням у середовищах, де множина користувачів конкурує за доступ до обмеженої кількості пристроїв.
   У університетських лабораторіях, виробничих цехах малих підприємств, makerspace-ах та сервісних бюро виникають типові організаційні проблеми. Користувачі змушені особисто координувати черговість використання принтерів, самостійно готувати складні файли для друку, фізично присутні для запуску процесів та моніторингу їх виконання. Відсутність централізованого обліку використання матеріалів ускладнює бюджетування та справедливий розподіл витрат між проектами.
   Технічна складність підготовки файлів створює бар'єр для користувачів без глибоких знань у сфері 3D-моделювання. Процес конвертації STL-моделі у керуючий G-code вимагає налаштування десятків параметрів, неправильний підбір яких призводить до невдалих друків та марнування дорогих матеріалів. Управління інвентарем філаменту різних типів без централізованої системи породжує ситуації, коли друк починається без достатньої кількості матеріалу.
   Моніторинг стану множини принтерів вимагає постійної уваги персоналу, оскільки механічні та електронні відмови виявляються лише після невдалих друків. Відсутність автоматизованого розрахунку вартості ускладнює ціноутворення для комерційних сервісів та внутрішнє тарифікування в корпоративних середовищах.
   Система управління 3D-друком створюється для автоматизації повного циклу від подання запиту користувачем до отримання готового виробу з автоматичним обліком ресурсів та формуванням аналітики. Рішення поєднує централізований backend для управління чергами та користувачами, розподілену мережу IoT-контролерів для автономної роботи принтерів, автоматизовану конвертацію моделей з інтелектуальним підбором параметрів та розширену звітність для оптимізації використання обладнання.
1.2 Бізнес-можливості
    Ринок програмних рішень для управління адитивним виробництвом зростає паралельно з розширенням застосування 3D-друку у промисловості та освіті. Цільові сегменти включають університети та технічні коледжі з лабораторіями цифрового виробництва, малі та середні виробничі підприємства, що використовують 3D-друк для прототипування, makerspace-и та коворкінги з спільним обладнанням, сервісні бюро, що надають послуги друку клієнтам, та корпоративні R&D центри з парками спеціалізованих принтерів.
    Існуючі рішення на ринку представлені комерційними платформами як 3DPrinterOS та OctoPrint, що фокусуються переважно на віддаленому керуванні окремими принтерами, але мають обмежені можливості управління чергами завдань, автоматизації підготовки файлів та інтеграції з обліковими системами. Корпоративні MES-системи для великих виробництв надмірно складні та дорогі для малого та середнього бізнесу.
    Пропонована система займає нішу між простими інструментами моніторингу та складними enterprise-рішеннями. Ключові відмінності включають повну автоматизацію конвертації STL в G-code без участі користувача, інтелектуальне управління чергою завдань з урахуванням доступності матеріалів та завантаженості принтерів, автономну роботу IoT-контролерів при втраті зв'язку з сервером, вбудовані алгоритми розрахунку вартості друку та споживання ресурсів, а також модульну архітектуру для простої інтеграції з існуючими корпоративними системами.
    Бізнес-модель орієнтована на ліцензування програмного забезпечення з тарифікацією за кількістю підключених принтерів, що робить рішення доступним для організацій будь-якого розміру. Низька вартість IoT-контролерів на базі ESP32 та використання відкритих технологій забезпечують конкурентну ціну входу порівняно з комерційними альтернативами.
2. Концепція рішення
2.1 Формулювання бачення
    Програмна система управління 3D-друком має на меті фундаментально трансформувати процес організації адитивного виробництва, зробивши його максимально доступним, ефективним та прозорим для всіх учасників. Концепція проєкту базується на ідеї створення повністю автоматизованої екосистеми, яка функціонує цілодобово без необхідності постійного втручання операторів, забезпечуючи при цьому високий рівень контролю та оптимального використання ресурсів.
    Основне призначення системи полягає у формуванні простого та інтуїтивного способу використання 3D-принтерів, де користувачі мають свободу подавати завдання на друк у будь-який зручний час без потреби у глибоких технічних знаннях або координації з операторами обладнання. Система передбачає перетворення традиційного складного процесу підготовки та запуску друку у безшовну, автоматизовану операцію від завантаження 3D-моделі до отримання готового виробу.
    Передбачається, що використання системи сприятиме підвищенню доступності технології 3D-друку для широкого кола користувачів, оптимізації завантаження обладнання через інтелектуальне управління чергами та зниженню операційних витрат організацій через автоматизацію рутинних процесів. У довгостроковій перспективі система має стати стандартним інструментом управління 3D-друком у освітніх закладах, виробничих цехах та сервісних центрах.
    Програмна система виконує такі основні завдання:
* Забезпечує автоматичну конвертацію 3D-моделей у керуючий код без участі користувача
* Управляє чергою завдань з урахуванням доступності матеріалів на принтерах
* Оптимізує використання ресурсів через точний облік споживання філаменту та машинного часу
* Підтримує автономну роботу принтерів через розподілені IoT-контролери навіть при збоях мережі
* Забезпечує повний моніторинг процесів з фіксацією всіх етапів життєвого циклу завдань
Система створює цінність для всіх категорій користувачів:
* Кінцеві користувачі отримують можливість створювати завдання на друк без технічних знань, з прозорим відстеженням статусу та автоматичними оцінками часу виконання
* Оператори обладнання отримують інструмент для ефективного управління парком принтерів з централізованим моніторингом стану та завантаженості
* Адміністратори отримують детальну аналітику використання ресурсів, інструменти планування закупівель матеріалів та розрахунку економічних показників
* Керівництво організацій отримує обґрунтування інвестицій у розширення інфраструктури на основі об'єктивних даних про попит та ефективність
  Загалом, призначення системи полягає у створенні середовища, у якому використання 3D-друку стає простим та доступним процесом, а управління обладнанням перестає вимагати постійної уваги спеціалізованого персоналу. У ширшому контексті система розглядається не лише як інструмент для автоматизації технічних процесів, а як елемент демократизації доступу до передових виробничих технологій.
2.2 Основні функціональні можливості 
   Система складається з трьох взаємопов'язаних компонентів, що забезпечують повний цикл управління процесами 3D-друку від подання запиту до отримання готового виробу.
   Серверна частина реалізована на платформі ASP.NET Core та виконує роль центрального координатора всіх операцій системи. Модуль управління користувачами забезпечує реєстрацію з автоматичним призначенням ролей, автентифікацію через JWT-токени та підтримку трьох рівнів доступу: звичайні користувачі можуть лише створювати завдання та переглядати їх статус, оператори мають додатковий доступ до моніторингу обладнання та управління матеріалами, адміністратори отримують повний контроль над системою включно з аналітикою та налаштуваннями.
   Модуль управління матеріалами веде повний каталог доступних типів філаменту з детальними характеристиками для кожного матеріалу: тип пластику (PLA, ABS, PETG, нейлон), колір з RGB-кодом для візуалізації, діаметр нитки (зазвичай 1.75мм або 3мм), щільність матеріалу для розрахунку маси споживання, рекомендовані температури екструдера та робочого столу. Система автоматично відстежує залишки кожного матеріалу на кожному принтері, віднімаючи фактично витрачену кількість після завершення друку та попереджаючи операторів про необхідність поповнення коли залишок опускається нижче критичного рівня.
   Центральним компонентом є модуль управління завданнями друку, що реалізує повний життєвий цикл через чітко визначену машину станів. Користувач завантажує STL-файл своєї 3D-моделі, обирає бажаний матеріал з доступних варіантів та вказує принтер або дозволяє системі обрати автоматично. Система зберігає файл у сховищі, викликає зовнішню утиліту slicer для конвертації STL у формат G-code з налаштуванням параметрів на основі обраного матеріалу, парсить результуючий G-code для аналізу та оцінки орієнтовного часу друку й споживання філаменту, перевіряє чи достатньо обраного матеріалу на призначеному принтері, створює запис завдання зі статусом Pending та поміщує його в чергу.
   Принтери через IoT-контролери періодично надсилають ping-запити для підтвердження свого online-статусу та запитують чергу завдань у форматі FIFO. Коли контролер отримує нове завдання, він завантажує відповідний G-code файл, змінює статус на Printing, виконує локальний аналіз для уточнення оцінок та розпочинає фізичний процес друку. Під час виконання система регулярно оновлює прогрес, відстежує поточний шар, розраховує витрачений матеріал та час що залишився. Після завершення статус змінюється на Completed з фіксацією фактичних метрик, або на Failed якщо виникла помилка з детальним описом причини.
   Модуль аналітики та розрахунку вартості використовує математичні моделі для обчислення економічних показників кожного друку. Вартість матеріалу розраховується як добуток витраченої маси на ціну за кілограм для конкретного типу філаменту. Вартість машинного часу обчислюється виходячи з амортизації обладнання розподіленої на години роботи. Додається оцінка споживання електроенергії на основі потужності принтера та тривалості друку. Система також рахує непрямі витрати на обслуговування через коефіцієнт від загальної вартості. Адміністратори можуть налаштовувати всі тарифні ставки для точного відображення реальних витрат організації.
   Адміністративний інтерфейс надає повний набір CRUD-операцій для всіх сутностей системи. Управління користувачами дозволяє переглядати списки, редагувати профілі, призначати ролі, блокувати облікові записи при порушеннях. Управління принтерами включає реєстрацію нового обладнання з вказанням моделі та параметрів, моніторинг поточного статусу, перегляд історії використання, видалення виведених з експлуатації пристроїв. Управління матеріалами дозволяє додавати нові типи філаменту до каталогу, оновлювати залишки після поповнення, коригувати ціни та характеристики. Управління завданнями надає можливість переглядати активні та історичні друки, фільтрувати за різними критеріями, скасовувати проблемні завдання, переприсвоювати між принтерами у разі відмови обладнання.
   IoT-контролер принтера реалізований на мікроконтролері ESP32 з операційною системою MicroPython та забезпечує автономну роботу обладнання з можливістю локального управління. Апаратна конфігурація включає LCD дисплей розміром 20 символів на 4 рядки для відображення поточного статусу, WiFi-модуль для комунікації з backend сервером, serial-інтерфейс для передачі G-code команд безпосередньо принтеру, набір кнопок для навігації в локальному меню та зміни налаштувань.
   Контролер функціонує в режимі активного полінгу з двома незалежними циклами. Кожні 120 секунд відправляється ping-запит на сервер з передачею поточного статусу: idle коли принтер вільний, printing під час активного друку, error при виникненні проблем. Кожні 10 секунд контролер запитує чергу завдань для перевірки чи немає нової роботи. Така архітектура забезпечує баланс між своєчасністю реакції на нові завдання та мінімізацією навантаження на мережу й сервер.
   При отриманні нового завдання з черги контролер ініціює процес його виконання. Спочатку завантажується G-code файл через HTTP з'єднання та зберігається в локальній файловій системі. Далі файл парсується для визначення загальної кількості команд руху, оцінки прогресу та уточнення параметрів друку. Контролер відправляє на сервер підтвердження старту з актуалізованими оцінками часу. Розпочинається послідовна передача G-code команд на принтер через serial-порт з контролем виконання кожної команди. LCD дисплей постійно оновлюється відображаючи поточний прогрес у відсотках, номер поточного шару та загальну кількість, витрачений матеріал, час що залишився до завершення.
   Система локалізації дозволяє перемикати мову інтерфейсу між українською та англійською через локальне меню контролера. Всі текстові рядки що відображаються на LCD виносяться в словники для кожної мови. Офлайн-режим забезпечує продовження роботи навіть при тимчасовій втраті зв'язку з backend сервером. Контролер зберігає локальну копію поточного завдання та продовжує його виконання автономно. Всі зміни статусу та метрики зберігаються локально в буфері. Після відновлення з'єднання відбувається автоматична синхронізація накопичених даних з центральною базою для збереження цілісності інформації по всій системі.
   Клієнтські додатки в наступних релізах забезпечать зручний доступ до функціональності системи для різних категорій користувачів. Web-інтерфейс на React з TypeScript надасть особистий кабінет де користувачі зможуть завантажувати нові моделі для друку, переглядати історію своїх завдань з детальною інформацією про кожне, відстежувати поточний статус активних друків в реальному часі. Панель оператора забезпечить централізований моніторинг всіх принтерів з візуалізацією їх поточного стану, управління чергами завдань з можливістю ручного втручання, оновлення залишків матеріалів після фізичного поповнення. Адміністративний dashboard представить візуалізацію ключових метрик використання системи, інструменти для генерації звітів за різні періоди, налаштування тарифів та параметрів системи.
   Мобільний додаток на Flutter забезпечить швидкий доступ до найбільш затребуваних функцій на ходу. Користувачі зможуть перевіряти статус своїх завдань з будь-якого місця, отримувати push-нотифікації про завершення друку або виникнення помилок, завантажувати нові моделі використовуючи камеру для сканування або вибір з галереї. Оператори матимуть доступ до базового моніторингу принтерів та можливості швидкого реагування на критичні ситуації. Обидва клієнтські додатки підтримуватимуть офлайн-режим з локальним кешуванням даних та автоматичною синхронізацією після відновлення інтернет-з'єднання.
3. Межі та обмеження
3.1 Межі початкового релізу 
     Перша версія системи концентрується на реалізації функціонального ядра з критичними можливостями, необхідними для базової роботи системи управління 3D-друком у виробничому середовищі.
     Backend компоненти початкового релізу: повний REST API з автоматично генерованою документацією Swagger для спрощення інтеграції та тестування, модуль автентифікації та авторизації на базі JWT-токенів з підтримкою трьох рольових моделей, система управління користувачами включно з реєстрацією нових облікових записів та редагуванням профілів, каталог матеріалів з можливістю додавання нових типів філаменту та вказання їх фізичних властивостей, відстеження залишків матеріалів на кожному принтері з автоматичним віднімання витрат після друку, повний життєвий цикл завдань друку через машину станів з переходами Pending → Printing → Completed/Failed, автоматична інтеграція з Slic3r для конвертації STL файлів у G-code без участі користувача, парсинг та аналіз згенерованого G-code для оцінки тривалості друку та споживання матеріалу, реєстр принтерів з можливістю додавання нового обладнання та налаштування параметрів, система моніторингу статусу принтерів через періодичні ping-запити від IoT-контролерів, модуль розрахунку економічних показників з налаштовуваними тарифами для різних типів витрат, базова аналітика з можливістю отримання статистики використання за період, адміністративні ендпоінти для виконання CRUD-операцій над всіма сутностями системи, система логування для аудиту критичних операцій та діагностики проблем.
     Структура бази даних PostgreSQL: таблиця Users для зберігання облікових записів користувачів з полями email, хешованого паролю, ролі та таймштампів створення та оновлення, таблиця Printers для реєстру обладнання з інформацією про модель, статус, IP-адресу, час останнього ping та параметри роботи, таблиця Materials для каталогу типів філаменту з характеристиками включно з типом пластику, кольором, діаметром, щільністю та температурним режимом, таблиця PrinterMaterials для зв'язку багато-до-багатьох між принтерами та матеріалами з полем кількості доступного філаменту в грамах, таблиця PrintJobs для завдань друку з посиланнями на файли, вибраний матеріал та принтер, статуси, оціночні та фактичні метрики, таймштампи всіх етапів виконання. Entity Framework Core використовується як ORM для типізованого доступу до даних через LINQ запити, автоматичної генерації та виконання міграцій схеми, відстеження змін сутностей та оптимізації завантаження пов'язаних даних.
     IoT-контролер принтера включає: апаратну платформу на базі ESP32 з dual-core процесором 240 MHz та 320KB оперативної пам'яті, вбудований WiFi-модуль для безпровідної комунікації з backend сервером, LCD дисплей формату 20x4 символи підключений через інтерфейс I2C для економії GPIO пінів, набір кнопок для навігації в меню та локального управління без необхідності підключення до комп'ютера, програмну реалізацію на MicroPython з архітектурою на основі машини станів для чіткої логіки переходів, режим активного полінгу з ping кожні 120 секунд для підтвердження доступності та перевіркою черги кожні 10 секунд, механізм завантаження G-code файлів через HTTP з потоковою обробкою для економії обмеженої пам'яті, парсер G-code для аналізу команд руху та розрахунку поточного прогресу друку, систему моніторингу з відстеженням прогресу в реальному часі та оновленням LCD дисплею, підтримку локалізації інтерфейсу для української та англійської мов з можливістю перемикання, офлайн-режим з локальним збереженням стану та буферизацією подій для синхронізації після відновлення зв'язку, автоматичну синхронізацію накопичених даних з backend після відновлення мережевого з'єднання.
     Функціональність виключена з першого релізу: повнофункціональні web та мобільні клієнтські інтерфейси - доступ до системи можливий лише через REST API або сторонні клієнти, розширена аналітика з використанням методів машинного навчання для прогнозування та оптимізації, інтеграція з платіжними системами для автоматичного списання коштів з користувачів, підтримка відеокамер для візуального моніторингу процесу друку та раннього виявлення проблем, автоматичне виявлення відмов друку через аналіз зображень з камер засобами комп'ютерного зору, архітектура multi-tenancy для одночасного обслуговування декількох незалежних організацій в одній інсталяції, готові інтеграційні модулі для підключення до популярних ERP та обліковських систем, розширений планувальник завдань з підтримкою пріоритетів та можливістю резервування часових слотів, система автоматичного розподілу навантаження між принтерами на основі їх поточної завантаженості та характеристик.
3.2 Наступні релізи
     Наступні релізи будуть поступово розширювати функціональність системи, додаючи користувацькі інтерфейси та розширені можливості.
     Веб-клієнт на React та TypeScript надасть особистий кабінет для користувачів з переглядом всіх завдань друку та їх статусів у реальному часі, історією друків з фільтрацією за датами та статусами, прогнозом часу завершення активних друків, сповіщеннями про зміну статусу завдань, можливістю завантаження нових 3D-моделей через drag-and-drop інтерфейс. Для операторів буде доступний список всіх активних принтерів з візуалізацією завантаженості, інструменти для управління чергами завдань, можливість зміни статусу завдань, оновлення залишків матеріалів, статистика завершених друків по принтерах. Адміністратори отримають dashboard з візуалізацією ключових метрик системи, інструменти для управління користувачами та принтерами, експорт даних у різних форматах, перегляд та очищення логів, налаштування тарифів та конфігурації системи.
     Мобільний клієнт на Flutter забезпечить швидкий доступ до статусу завдань друку, push-сповіщення про завершення друку та виникнення помилок, вбудований інтерфейс для завантаження моделей, можливість перегляду 3D-моделей перед друком, карту розташування принтерів з індикацією їх статусів, історію всіх завдань, офлайн-режим з локальним кешуванням даних.
     Розширення IoT-функціональності включатиме підтримку кольорового LCD-дисплею для покращеної візуалізації, інтеграцію з датчиками температури для моніторингу перегріву, датчики вібрації для виявлення механічних проблем, систему автоматичного калібрування робочого столу, інтеграцію з камерами для time-lapse відео процесу друку, підтримку віддаленого керування параметрами друку під час виконання.
     Розширена аналітика додасть модуль машинного навчання для точнішого прогнозування часу друку на основі історичних даних, рекомендаційну систему для оптимальних параметрів slicing, виявлення аномалій у роботі принтерів для превентивного обслуговування, кластерний аналіз використання матеріалів для оптимізації закупівель, експорт детальних звітів у PDF та Excel з графіками та діаграмами.
     Масштабування системи передбачає підтримку розподілених інсталяцій у різних локаціях, централізоване управління мережею принтерів через єдиний інтерфейс, інтеграцію з платіжними системами для комерційних сервісних бюро, API для інтеграції з CAD-системами та 3D-моделювальними платформами, підтримку різних типів 3D-принтерів включно з SLA та SLS технологіями, багатоорендну архітектуру для обслуговування кількох організацій з повною ізоляцією даних.
4. Бізнес-контекст
4.3 Операційне середовище
     Система побудована з використанням сучасного технологічного стеку що забезпечує надійність, продуктивність та можливість масштабування.
     Backend інфраструктура базується на платформі ASP.NET Core версії 10.0 що надає високу продуктивність через компіляцію в нативний код, крос-платформенність для розгортання на Windows та Linux серверах, вбудовану підтримку dependency injection для слабкої зв'язаності компонентів, потужні можливості middleware для обробки HTTP-запитів. Для роботи з базою даних використовується Entity Framework Core 10.0.1 як ORM що забезпечує типізований доступ через LINQ, автоматичні міграції схеми, відстеження змін сутностей, оптимізацію запитів через eager та lazy loading. База даних PostgreSQL версії 18 обрана завдяки високій надійності, підтримці складних запитів та транзакцій, розширеним можливостям індексування, відкритому коду без ліцензійних обмежень.
     Розгортання backend передбачається на хмарній платформі Microsoft Azure з використанням віртуальної машини під управлінням Windows Server 2025 та веб-сервера IIS для production-середовища, або на локальних серверах організації для випадків коли існують вимоги щодо зберігання даних в межах власної інфраструктури. Взаємодія всіх компонентів відбувається через REST API з передачею даних у форматі JSON, автентифікація реалізована через JWT-токени з коротким lifetime та механізмом автоматичного refresh, всі мережеві з'єднання шифруються через TLS версії 1.3 для захисту конфіденційних даних.
     Інтеграція з slicer здійснюється через виклик зовнішньої command-line утиліти PrusaSlicer з передачею параметрів як аргументів командного рядка та контролем процесу виконання. Файлове сховище для STL та G-code файлів в development-середовищі використовує локальну файлову систему для простоти налагодження.
     IoT-платформа побудована на мікроконтролері ESP32 виробництва Espressif Systems що має dual-core процесор Xtensa LX6 з тактовою частотою 240 MHz, 520 KB внутрішньої SRAM з яких приблизно 320 KB доступно для додатку після завантаження runtime, 4 MB flash-пам'яті для зберігання firmware та файлів, вбудований WiFi-модуль стандарту 802.11 b/g/n з підтримкою частоти 2.4 GHz. Як runtime-середовище використовується MicroPython що надає зручну високорівневу мову програмування з автоматичним управлінням пам'яттю при збереженні достатньої продуктивності для завдань IoT.
     Периферійні компоненти включають LCD дисплей формату 20 символів на 4 рядки з контролером HD44780 підключений через I2C інтерфейс для економії GPIO пінів, матричну клавіатуру розміром 4x4 для введення символів та навігації в меню, набір кнопок для швидкого доступу до основних функцій, світлодіодні індикатори для візуальної індикації стану. Комунікація з 3D-принтером здійснюється через UART serial-інтерфейс з швидкістю 115200 baud що є стандартом для передачі G-code команд, підтримується протокол з handshaking для підтвердження прийому кожної команди принтером перед відправкою наступної.
     Обмеження апаратної платформи ESP32 враховані в архітектурі програмного забезпечення: G-code файли обробляються потоково по рядках замість повного завантаження в пам'ять що дозволяє працювати з файлами довільного розміру, критичні дані кешуються локально для швидкого доступу без очікування мережевих запитів, всі мережеві операції мають налаштовувані таймаути для запобігання безкінечному очікуванню відповіді, watchdog timer автоматично перезапускає систему при зависанні основного циклу, реалізовано механізм graceful degradation для продовження базової роботи при відмові неосновних компонентів.
     Клієнтські додатки майбутніх релізів використовуватимуть React версії 18 або новіше з TypeScript для статичної типізації та раннього виявлення помилок під час розробки web-інтерфейсу, Flutter версії 3 або новіше для створення нативних мобільних додатків з єдиною кодовою базою для Android та iOS платформ. Взаємодія обох типів клієнтів з backend відбуватиметься виключно через REST API без прямого доступу до бази даних, автентифікація через JWT-токени з автоматичним механізмом refresh для безперервної роботи сесії, реалізовано offline-режим з локальним кешуванням даних та автоматичною синхронізацією при відновленні з'єднання, web-версія підтримуватиме Progressive Web App функціональність для можливості встановлення як native-подібний додаток.
     Безпека системи забезпечується на всіх рівнях архітектури. Всі мережеві з'єднання шифруються через Transport Layer Security версії 1.3 з примусовим upgrade для старих клієнтів. JWT-токени мають короткий lifetime 15 хвилин з механізмом refresh-токенів для оновлення без повторної автентифікації. Система авторизації базується на Role-Based Access Control з перевіркою прав на кожен API endpoint. Захист від SQL injection атак забезпечується через використання параметризованих запитів Entity Framework Core. Клієнтські додатки захищені від XSS атак через автоматичне екранування виведених даних фреймворками. Впроваджено rate limiting для запобігання brute-force атакам на ендпоінти автентифікації. Всі критичні операції логуються в централізовану систему audit logging для можливості розслідування інцидентів безпеки.
     Локалізація реалізована через розподілений підхід де backend API повертає лише коди помилок та ідентифікатори повідомлень, а клієнтські додатки забезпечують локалізацію через власні resource files. Backend відправляє стандартизовані коди відповідей (наприклад, ERROR_INSUFFICIENT_MATERIAL, ERROR_PRINTER_OFFLINE), які web та мобільні клієнти перекладають відповідно до обраної користувачем мови. Для IoT-контролерів локалізація реалізована через локальні словники з підтримкою української та англійської мов та можливістю перемикання через меню. Такий підхід забезпечує гнучкість додавання нових мов на рівні клієнтів без змін у backend коді, зменшує навантаження на мережу через передачу компактних кодів замість повних текстових повідомлень, спрощує підтримку консистентності термінології між різними клієнтськими платформами.
     Масштабованість закладена в архітектуру з можливістю росту від кількох принтерів до десятків пристроїв без необхідності переробки системи. Вертикальне масштабування backend досягається через збільшення ресурсів віртуальної машини або переміщення на більш потужний сервер. Горизонтальне масштабування можливе через додавання нових IoT-контролерів що автоматично реєструються в системі та починають отримувати завдання з черги. База даних оптимізована через індексування всіх полів що використовуються в WHERE та JOIN клаузах, використання eager loading для завантаження пов'язаних даних одним запитом де це доцільно, lazy loading для великих колекцій що завантажуються лише при необхідності, query optimization через аналіз execution plans та додавання композитних індексів для складних запитів.

8


